<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Página principal</title>
  <link rel="icon" type="image/x-icon" href="img/logo2.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Enriqueta'>
  <link rel="stylesheet" href="css/estilos-navbar-home.css">
  <link rel="stylesheet" href="css/estilos-texto.css">
  <script src="js/sesion.js"></script>
  <script src="js/solicitud.js"></script>
  <script src="js/usuario.js"></script>
  <script src="js/util.js"></script>
  <style>
    .div-prueba {
      border: 2px solid darkblue;
      min-height: 50vh;
      background-color: #cccccc;
      border-radius: 15px;
      border: #1abc9c 1px solid;
    }
  </style>
</head>

<body>
  <header class="sticky-top non-selectable">
    <nav class="navbar navbar-custom">
      <div class="container-fluid m-0">
        <div id="menu-icon" class="icon-home navbar-element-custom">&#9776;</div>
        <div class="dropdown text-end">
          <button class="btn-custom-i dropdown-toggle " type="button" data-bs-toggle="dropdown" aria-expanded="false">
            Mi cuenta
          </button>
          <div class="dropdown-menu dropdown-menu-right container-fluid">
            <a class="dropdown-item d-flex justify-content-between align-items-center btn-active-custom disabled"
              href="#">
              <i class="fa-regular fa-user"></i>
              <div class="d-flex">
                <span>Perfil</span>
              </div>
            </a>
            <a class="dropdown-item d-flex justify-content-between align-items-center btn-active-custom disabled"
              href="#">
              <i class="fa-solid fa-gear"></i>
              <div class="d-flex">
                <span>Ajustes</span>
              </div>
            </a>
            <div class="dropdown-divider"></div>
            <button id="btnCerrarSesion"
              class="dropdown-item d-flex justify-content-between align-items-center btn-active-custom"
              onclick="cerrarSesion()">
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <div class="d-flex">
                <span id="cerrarSesion">Cerrar sesión</span>
              </div>
            </button>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <div class="main-home container-fluid overflow-auto">
    <div id="sidebar-home" class="sidebar-home non-selectable">
      <div class="container m-0 p-0">
        <div class="mt-2">
          <a href="#" class="selected-option"><i class="fas fa-home"></i> Inicio</a>
          <a href="tareas.html"><i class="fas fa-tasks"></i> Mis tareas</a>
          <hr class="p-0 m-0">
          <a href="#" class="nav-link disabled"><i class="fas fa-project-diagram"></i> Proyectos</a>
          <a href="#" class="nav-link disabled"><i class="fas fa-users"></i> Equipos</a>
          <a href="#" class="nav-link disabled"><i class="fas fa-database"></i> Datos</a>
        </div>
        <hr class="dropdown-divider">
        <a href="#" class="nav-link disabled"><i class="far fa-question-circle"></i> Ayuda</a>
      </div>
    </div>
    <div class="content-home">
      <div class="container-fluid text-center">
        <div class="row justify-content-end d-flex align-items-start">
          <div class="col-4 texto-1">Inicio</div>
          <div class="col-4 texto-4">
            <div class="row text-end">
              <div class="col-12">
                <i class="fa-regular fa-calendar"></i> <span id="fecha"></span>
              </div>
              <div class="col-12">
                <i class="fa-regular fa-clock"></i> <span id="hora"></span>
              </div>
              <div class="col-12 usuario">
                <i class="fa-regular fa-envelope"></i> <span id="usuario"></span>
              </div>
            </div>
          </div>
        </div>
        <div class="container-fluid text-center mt-3">
          <div class="row justify-content-center">
            <div class="col-6 texto-2"><span id="saludo" class="d-inline"></span>, <span id="nombreUsuario"
                class="d-inline"></span></div>
          </div>
        </div>
        <div class="container-fluid mt-3">
          <div class="row justify-content-end">
            <div class="col-4 texto-2 text-end">
              <div class="dropdown">
                <button class="btn-custom-i dropdown-toggle" type="button" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  Crear
                </button>
                <ul class="dropdown-menu">
                  <li><a id=btnCrearTarea class="dropdown-item" data-toggle="modal" data-target="#crearTareaModal"
                      href="tareas.html">Nueva tarea</a></li>
                  <li><a class="dropdown-item disabled" href="#">Nuevo proyecto</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="container-fluid text-center mt-4">
          <div class="row  justify-content-around">
            <div class="col-5 div-prueba texto-2 text-end"></div>
            <div class="col-5 div-prueba texto-2 text-end"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    /* --------------- Movimiento SIDEBAR ---------------*/
    document.getElementById('menu-icon').addEventListener('click', function () {
      var sidebar = document.getElementById('sidebar-home');
      var content = document.querySelector('.content-home');
      sidebar.classList.toggle('sidebar-home-open');
      content.classList.toggle('content-home-open');
    });

    /* --------------- Dropdown btn ---------------*/
    $(document).ready(function () {
      $("#btnCrear").on("click", function () {
        $(this).siblings(".dropdown-menu").toggle();
      });
    });
    /* --------------- Fecha y hora ---------------*/
    setInterval(function actualizarFechaYHora() {
      var horaActual = new Date();

      var fecha = { weekday: 'long', day: 'numeric', month: 'long' };
      var formatoFecha = (new Intl.DateTimeFormat('es', fecha).format(horaActual)).charAt(0).toUpperCase() + (new Intl.DateTimeFormat('es', fecha).format(horaActual)).slice(1);

      var hora = { hour: '2-digit', minute: '2-digit' };
      var formatoHora = new Intl.DateTimeFormat('es', hora).format(horaActual);
      var horaActual = horaActual.getHours();

      var saludo = obtenerSaludo(horaActual);

      document.getElementById('fecha').innerText = formatoFecha;
      document.getElementById('hora').innerText = formatoHora;
      document.getElementById('saludo').innerText = saludo;
    }, 1000);
  </script>
</body>

</html>